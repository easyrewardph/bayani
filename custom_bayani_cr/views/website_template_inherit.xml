<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="filter_products_price_inherit" inherit_id="website_sale.filter_products_price">
        <xpath expr="//div[@id='o_wsale_price_range_option']" position="attributes">
            <attribute name="t-if">
                user_id.id != request.env.ref('base.public_user').id
            </attribute>
        </xpath>
    </template>
    <template id="price_inherit_template" inherit_id="website_sale.product_price">
        <xpath expr="//div[contains(@t-attf-class, 'product_price')]" position="attributes">
            <attribute name="t-if">
                user_id.id != request.env.ref('base.public_user').id
            </attribute>
        </xpath>
    </template>
    <template id="quantity_custom" inherit_id="website_sale.product_quantity">
        <xpath expr="//div[contains(@t-attf-class, 'css_quantity input-group')]" position="attributes">
            <attribute name="t-if">
                user_id.id != request.env.ref('base.public_user').id
            </attribute>
        </xpath>
    </template>
    <template id="product_custom" inherit_id="website_sale.product">
        <xpath expr="//a[@id='add_to_cart']" position="attributes">
            <attribute name="t-if">
                user_id.id != request.env.ref('base.public_user').id
            </attribute>
        </xpath>

        <!-- Added Expiry-date, Weight and volume in product page-->
        <xpath expr="//div[@id='o_product_terms_and_share']" position="before">
            <div class="mb-1">
                <tr>
                    <br/>
                    <span>
                        <strong>Expiry Date :</strong>
                    </span>
                    <td t-if="product.get_nearest_expiry_lot()">
                        <strong>
                            <span t-esc="product.get_nearest_expiry_lot().strftime('%m-%d-%Y')"/>
                        </strong>
                    </td>
                </tr>
                <br/>
                <tr>
                    <span>Weight :</span>
                    <td>
                        <span t-field="product.weight"/>
                        <span t-esc="product.weight_uom_name"/>
                    </td>
                </tr>
                <br/>
                <tr>
                    <span>Volume :</span>
                    <td>
                        <span t-field="product.volume"/>
                        <span t-esc="product.volume_uom_name"/>
                    </td>
                </tr>

            </div>
        </xpath>
    </template>
    <template id="custom_product_price" inherit_id="website_sale.products_item">
        <xpath expr="//div[hasclass('product_price')]" position="attributes">
            <attribute name="t-if">
                user_id.id != request.env.ref('base.public_user').id
            </attribute>
        </xpath>
    </template>

    <!--    Remove Price From Wishlist while access website through (Public User)-->
    <template id="custom_product_wishlist" inherit_id="website_sale_wishlist.product_wishlist">
        <xpath expr="//t[@t-foreach='wishes']//tr//td[3]" position="replace">
            <td class="align-middle"
                t-if="combination_info['prevent_zero_price_sale'] and user_id.id != request.env.ref('base.public_user').id">
                <span t-field="website.prevent_zero_price_sale_text"/>
            </td>
        </xpath>
        <xpath expr="//td[@t-else='']" position="replace">
            <td class="align-middle o_wish_price" t-elif="user_id.id != request.env.ref('base.public_user').id">
                <t t-out="combination_info['price']"
                   t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                <small t-if="combination_info['base_unit_price']"
                       class="cart_product_base_unit_price d-block text-muted"
                       groups="website_sale.group_show_uom_price">
                    <t t-call='website_sale.base_unit_price'>
                        <t t-set='product' t-value='wish.product_id'/>
                    </t>
                </small>
            </td>
        </xpath>
    </template>


    <template id="template_header_sidebar_bayani" inherit_id="website.template_header_sidebar">
        <xpath expr="//t[@t-call='website.placeholder_header_search_box']" position="replace">
            <t t-call="website.placeholder_header_search_box" t-if="website.is_search_panel_shown_in_website">
                <t t-set="_classes" t-valuef="mb-3"/>
                <t t-set="_input_classes" t-valuef="rounded-start-pill ps-3 text-bg-light"/>
                <t t-set="_submit_classes" t-valuef="rounded-end-pill pe-3 bg-o-color-3"/>
                <t t-set="limit" t-valuef="0"/>
            </t>
        </xpath>
    </template>


</odoo>


